<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Samples pseudoabsences inside a geographic or environmental buffer — create_buffer • modleR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Samples pseudoabsences inside a geographic or environmental buffer — create_buffer" />
<meta property="og:description" content="This function is used internally by function
setup_sdmdata to define the area where pseudoabsences will be
sampled in different ways. First, it can create a maximum inclusion buffer,
within which the pseudoabsences will be sampled, to restrict model evaluation
 to accesible areas. This can be performed by either setting a user-defined
 shapefile, or by selecting one of several distance measures, including a
 numeric fixed value, to draw a buffer around the occurrences. In addition to
 this, an euclidean environmental distance can be superimposed to the
 previous step. The third step aims to control for overfitting by excluding
 areas that are too close to the occurrence points, with parameter &quot;dist_min&quot;.
 The function will return the resulting buffer as a RasterStack object with
 the same resolution and NA values of the predictors RasterStack." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">modleR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/modleR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Samples pseudoabsences inside a geographic or environmental buffer</h1>
    
    <div class="hidden name"><code>create_buffer.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is used internally by function
<code>setup_sdmdata</code> to define the area where pseudoabsences will be
sampled in different ways. First, it can create a maximum inclusion buffer,
within which the pseudoabsences will be sampled, to restrict model evaluation
 to accesible areas. This can be performed by either setting a user-defined
 shapefile, or by selecting one of several distance measures, including a
 numeric fixed value, to draw a buffer around the occurrences. In addition to
 this, an euclidean environmental distance can be superimposed to the
 previous step. The third step aims to control for overfitting by excluding
 areas that are too close to the occurrence points, with parameter "<code>dist_min</code>".
 The function will return the resulting buffer as a RasterStack object with
 the same resolution and NA values of the predictors RasterStack.</p>
    </div>

    <pre class="usage"><span class='fu'>create_buffer</span>(<span class='no'>species_name</span>, <span class='no'>occurrences</span>, <span class='kw'>lon</span> <span class='kw'>=</span> <span class='st'>"lon"</span>, <span class='kw'>lat</span> <span class='kw'>=</span> <span class='st'>"lat"</span>,
  <span class='no'>predictors</span>, <span class='kw'>buffer_type</span> <span class='kw'>=</span> <span class='st'>"median"</span>, <span class='kw'>dist_buf</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>env_buffer</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>env_distance</span> <span class='kw'>=</span> <span class='st'>"centroid"</span>, <span class='kw'>dist_min</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>max_env_dist</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='no'>buffer_shape</span>, <span class='kw'>models_dir</span> <span class='kw'>=</span> <span class='st'>"./models"</span>,
  <span class='kw'>write_buffer</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>species_name</th>
      <td><p>A character string with the species name. Because species
name will be used as a directory name, avoid non-ASCII characters, spaces and
punctuation marks.
Recommendation is to adopt "Genus_species" format. See names in
<code>example_occs</code> as an example</p></td>
    </tr>
    <tr>
      <th>occurrences</th>
      <td><p>A data frame with occurrence data. Data must have at least
 columns with latitude and longitude values of species occurrences.
See <code>example_occs</code> as an example</p></td>
    </tr>
    <tr>
      <th>lon</th>
      <td><p>The name of the longitude column. Defaults to "lon"</p></td>
    </tr>
    <tr>
      <th>lat</th>
      <td><p>The name of the latitude column. Defaults to "lat"</p></td>
    </tr>
    <tr>
      <th>predictors</th>
      <td><p>A Raster or RasterStack object with the environmental
raster layers</p></td>
    </tr>
    <tr>
      <th>buffer_type</th>
      <td><p>Character string indicating whether the buffer should be
calculated using the "<code>mean</code>", "<code>median</code>", "<code>maximum</code>"
distance between occurrence points, or an absolute geographic
"<code>distance</code>". If set to "<code>user</code>", a user-supplied shapefile will be
used as a sampling area, and <code>buffer_shape</code> needs to be specified. If
NULL, no distance buffer is applied. If set to "<code>distance</code>",
<code>dist_buf</code> needs to be specified</p></td>
    </tr>
    <tr>
      <th>dist_buf</th>
      <td><p>Defines the width of the buffer. Needs to be specified if
<code>buffer_type = "distance"</code>. Distance unit is in the same unit of the
RasterStack of predictor variables</p></td>
    </tr>
    <tr>
      <th>env_buffer</th>
      <td><p>Logical. Should an euclidean environmental filter be
applied? If TRUE, <code>env_distance</code> and <code>max_env_dist</code> need to be
specified</p></td>
    </tr>
    <tr>
      <th>env_distance</th>
      <td><p>Character. Type of environmental distance, any in
"<code>centroid</code>", "<code>mindist</code>". Defaults to "<code>centroid</code>", the
distance of each raster pixel to the environmental centroid of the
distribution. When set to "<code>mindist</code>", the minimum distance of each
raster pixel to any of the occurrence points is calculated. Needs to be
specified if <code>env_buffer = TRUE</code>. A maximum value needs to be specified
 (parameter <code>max_env_dist</code>)</p></td>
    </tr>
    <tr>
      <th>dist_min</th>
      <td><p>Optional, numeric. A distance for the exclusion of areas too
close from the occurrence points. Distance unit is in the same unit of the
RasterStack of predictor variables</p></td>
    </tr>
    <tr>
      <th>max_env_dist</th>
      <td><p>Numeric. Since large negative values can arise
during the calculation of the euclidean environmental distance, this
parameter sets a maximum value to cut the environmental distance buffer.
Expressed in quantiles, from 0: all values to 1: no values. Defaults to 0.5,
the median value. Needs to be specified if <code>env_buffer = TRUE</code></p></td>
    </tr>
    <tr>
      <th>buffer_shape</th>
      <td><p>User-defined buffer shapefile in which pseudoabsences
will be generated. Needs to be specified if <code>buffer_type = "user"</code></p></td>
    </tr>
    <tr>
      <th>models_dir</th>
      <td><p>Folder path to save the output files. Defaults to
"<code>./models</code>"</p></td>
    </tr>
    <tr>
      <th>write_buffer</th>
      <td><p>Logical. Should the resulting RasterStack be written?
Defaults to FALSE</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Table of pseudoabsence points sampled within the selected distance</p>
<p>A buffer around the occurrence points</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>VanDerWal, J., Shoo, L. P., Graham, C., &amp; Williams, S. E. (2009).
Selecting pseudo-absence data for presence-only distribution modeling: How
far should you stray from what you know? Ecological Modelling, 220(4),
589-594. doi:10.1016/j.ecolmodel.2008.11.010</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/raster/man/buffer.html'>buffer</a></code>  in <span class="pkg">raster</span> package</p>
<p><code><a href='https://rdrr.io/pkg/dismo/man/randomPoints.html'>randomPoints</a></code>  in <span class="pkg">dismo</span> package</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>raster</span>)</div><div class='output co'>#&gt; <span class='message'>Loading required package: sp</span></div><div class='input'><span class='no'>sp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/raster/man/names.html'>names</a></span>(<span class='no'>example_occs</span>)[<span class='fl'>1</span>]
<span class='no'>occs</span> <span class='kw'>&lt;-</span> <span class='no'>example_occs</span><span class='kw'>[[</span><span class='fl'>1</span>]]
<span class='no'>buf</span> <span class='kw'>&lt;-</span> <span class='fu'>create_buffer</span>(<span class='kw'>species_name</span> <span class='kw'>=</span> <span class='no'>sp</span>,
                     <span class='kw'>occurrences</span> <span class='kw'>=</span> <span class='no'>occs</span>,
                     <span class='kw'>predictors</span> <span class='kw'>=</span> <span class='no'>example_vars</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: Spatial object 1 is not projected; GEOS expects planar coordinates</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Spatial object is not projected; GEOS expects planar coordinates</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/pkg/raster/man/plot.html'>plot</a></span>(<span class='no'>buf</span>)</div><div class='img'><img src='create_buffer-1.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andrea Sánchez-Tapia, Sara Mortara, Diogo Rocha, Felipe Barros, Guilherme Gall.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


