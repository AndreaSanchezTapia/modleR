<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Samples pseudoabsences inside a geographic or environmental buffer — create_buffer • modleR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Samples pseudoabsences inside a geographic or environmental buffer — create_buffer"><meta property="og:description" content="This function is used internally by function setup_sdmdata to
define the area where pseudoabsences will be sampled in different ways.
First, it can create an inclusion buffer, within which the pseudoabsences
will be sampled, to restrict model evaluation to accesible areas. This can be
performed by either setting a user-defined shapefile, or by drawing a buffer
around the species occurrences: a geographic distance fixed value, or the
mean, median or maximum pairwise distance between occurrences. In addition to
this, an euclidean environmental distance filter can be superimposed to the
previous step, to control for overfitting by excluding areas that are too
close to the occurrence points, either in the environmental space or in the
geographic space.
The function will return the resulting buffer as a RasterStack object with
the same resolution and NA values of the predictors RasterStack."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">modleR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/modleR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/buffer_and_randomPoints.html">Testing background point generation in modleR</a>
    </li>
    <li>
      <a href="../articles/projection.html">Projecting models in modleR</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Model-R/modleR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Samples pseudoabsences inside a geographic or environmental buffer</h1>
    <small class="dont-index">Source: <a href="https://github.com/Model-R/modleR/blob/HEAD/R/create_buffer.R" class="external-link"><code>R/create_buffer.R</code></a></small>
    <div class="hidden name"><code>create_buffer.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is used internally by function <code><a href="setup_sdmdata.html">setup_sdmdata</a></code> to
define the area where pseudoabsences will be sampled in different ways.
First, it can create an inclusion buffer, within which the pseudoabsences
will be sampled, to restrict model evaluation to accesible areas. This can be
performed by either setting a user-defined shapefile, or by drawing a buffer
around the species occurrences: a geographic distance fixed value, or the
mean, median or maximum pairwise distance between occurrences. In addition to
this, an euclidean environmental distance filter can be superimposed to the
previous step, to control for overfitting by excluding areas that are too
close to the occurrence points, either in the environmental space or in the
geographic space.
The function will return the resulting buffer as a RasterStack object with
the same resolution and NA values of the predictors RasterStack.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_buffer</span><span class="op">(</span><span class="va">species_name</span>, <span class="va">occurrences</span>, lon <span class="op">=</span> <span class="st">"lon"</span>, lat <span class="op">=</span> <span class="st">"lat"</span>,</span>
<span>  <span class="va">predictors</span>, buffer_type <span class="op">=</span> <span class="st">"none"</span>, <span class="va">buffer_shape</span>, dist_buf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  env_filter <span class="op">=</span> <span class="cn">FALSE</span>, env_distance <span class="op">=</span> <span class="st">"centroid"</span>, min_env_dist <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min_geog_dist <span class="op">=</span> <span class="cn">NULL</span>, models_dir <span class="op">=</span> <span class="st">"./models"</span>, write_buffer <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>species_name</dt>
<dd><p>A character string with the species name. Because species
name will be used as a directory name, avoid non-ASCII characters, spaces and
punctuation marks.
Recommendation is to adopt "Genus_species" format. See names in
<code><a href="example_occs.html">example_occs</a></code> as an example</p></dd>


<dt>occurrences</dt>
<dd><p>A data frame with occurrence data. Data must have at least
 columns with latitude and longitude values of species occurrences.
See <code><a href="example_occs.html">example_occs</a></code> as an example</p></dd>


<dt>lon</dt>
<dd><p>The name of the longitude column. Defaults to "lon"</p></dd>


<dt>lat</dt>
<dd><p>The name of the latitude column. Defaults to "lat"</p></dd>


<dt>predictors</dt>
<dd><p>A Raster or RasterStack object with the environmental
raster layers</p></dd>


<dt>buffer_type</dt>
<dd><p>Character string indicating whether the buffer should be
calculated using the "<code>mean</code>", "<code>median</code>", "<code>maximum</code>"
distance between occurrence points, or an absolute geographic
"<code>distance</code>". If set to "<code>user</code>", a user-supplied shapefile will be
used as a sampling area, and <code>buffer_shape</code> needs to be specified. If
NULL, no distance buffer is applied. If set to "<code>distance</code>",
<code>dist_buf</code> needs to be specified</p></dd>


<dt>buffer_shape</dt>
<dd><p>User-defined buffer shapefile in which pseudoabsences
will be generated. Needs to be specified if <code>buffer_type = "user"</code></p></dd>


<dt>dist_buf</dt>
<dd><p>Defines the width of the buffer. Needs to be specified if
<code>buffer_type = "distance"</code>. Distance unit is in the same unit of the
RasterStack of predictor variables</p></dd>


<dt>env_filter</dt>
<dd><p>Logical. Should an euclidean environmental filter be
applied? If TRUE, <code>env_distance</code> and
<code>min_env_dist</code> need to be specified. Areas closest than
<code>min_env_dist</code> (expressed in quantiles in the environmental space)will
be omitted from the pseudoabsence sampling</p></dd>


<dt>env_distance</dt>
<dd><p>Character. Type of environmental distance, either
"<code>centroid</code>" or "<code>mindist</code>". Defaults to "<code>centroid</code>", the
distance of each raster pixel to the environmental centroid of the
distribution. When set to "<code>mindist</code>", the minimum distance of each
raster pixel to any of the occurrence points is calculated. Needs to be
specified if <code>env_filter = TRUE</code>. A minimum value needs to be
specified (parameter <code>min_env_dist</code>)</p></dd>


<dt>min_env_dist</dt>
<dd><p>Numeric. Sets a minimum value to exclude the areas
closest (in the environmental space) to the occurrences or their centroid,
expressed in quantiles, from 0 (the closest) to 1. Defaults to 0.05,
excluding areas belonging to the 5<!-- % closest environmental values. Note that -->
since this is based on quantiles, and environmental similarity can take large
negative values, this is an abitrary value</p></dd>


<dt>min_geog_dist</dt>
<dd><p>Optional, numeric. A distance for the exclusion of the
areas closest to the occurrence points (in the geographical space). Distance
 unit is in the same unit of the RasterStack of predictor variables</p></dd>


<dt>models_dir</dt>
<dd><p>Folder path to save the output files. Defaults to
"<code>./models</code>"</p></dd>


<dt>write_buffer</dt>
<dd><p>Logical. Should the resulting buffer RasterLayer be
written? Defaults to FALSE</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Table of pseudoabsence points sampled within the selected distance</p>


<p>A RasterLayer object containing the final buffer around the
occurrence points</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>VanDerWal, J., Shoo, L. P., Graham, C., &amp; Williams, S. E. (2009).
Selecting pseudo-absence data for presence-only distribution modeling: How
far should you stray from what you know? Ecological Modelling, 220(4),
589-594. doi:10.1016/j.ecolmodel.2008.11.010</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/terra/man/buffer.html" class="external-link">buffer</a></code>  in <span class="pkg">raster</span> package</p>
<p><code><a href="https://rdrr.io/pkg/dismo/man/randomPoints.html" class="external-link">randomPoints</a></code>  in <span class="pkg">dismo</span> package</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/raster" class="external-link">raster</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: sp</span>
<span class="r-in"><span><span class="va">sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">example_occs</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">occs</span> <span class="op">&lt;-</span> <span class="va">example_occs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">buf</span> <span class="op">&lt;-</span> <span class="fu">create_buffer</span><span class="op">(</span>species_name <span class="op">=</span> <span class="va">sp</span>,</span></span>
<span class="r-in"><span>                     occurrences <span class="op">=</span> <span class="va">occs</span>,</span></span>
<span class="r-in"><span>                     predictors <span class="op">=</span> <span class="va">example_vars</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No inclusion buffer was applied</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">buf</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="create_buffer-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://github.com/AndreaSanchezTapia" class="external-link">Andrea Sánchez-Tapia</a>, <a href="https://github.com/saramortara" class="external-link">Sara Mortara</a>, Diogo Rocha, Felipe Barros, Guilherme Gall.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

